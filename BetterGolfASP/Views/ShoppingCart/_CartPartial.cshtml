@using BetterGolfASP.Domain.Cart
@model List<CartItem>

@if (!Model.Any())
{
    <p class="text-muted">Your cart is empty.</p>
}
else
{
    <ul class="list-group list-group-flush">
        @foreach (var item in Model)
        {
            <li class="list-group-item cart-item">
                <div class="cart-item-left">
                    <img src="@item.ImageUrl" alt="@item.Name" />
                    <span>@item.Name</span>
                </div>
                <div class="cart-item-right">
                    <button class="cart-quantity-btn decrease" data-id="@item.ProductID" data-action="decrease">−</button>
                    <span>@item.Quantity</span>
                    <button class="cart-quantity-btn increase" data-id="@item.ProductID" data-action="increase">+</button>
                    

                    <span>@((item.Price * item.Quantity).ToString("C"))</span>
                </div>
            </li>
        }
    </ul>

    <hr />

    <div class="d-flex justify-content-between fw-bold">
        <span>Total:</span>
        <span>@Model.Sum(x => x.Quantity * x.Price).ToString("C")</span>
    </div>

    <div class="mt-3 text-center">
        <a href="@Url.Action("Index", "Checkout")" class="btn btn-success w-100">Go to Checkout</a>
    </div>
}
